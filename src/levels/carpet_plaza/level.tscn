[gd_scene load_steps=9 format=4 uid="uid://dupw6n0dhwek0"]

[ext_resource type="Script" uid="uid://b1ofr4umso5jf" path="res://src/systems/scenes/game/game_scene.gd" id="1_cg8o4"]
[ext_resource type="Script" uid="uid://b4b3kjcm65mv6" path="res://src/systems/audio/bgm.gd" id="2_6io33"]
[ext_resource type="PackedScene" uid="uid://c8bnpo28a373g" path="res://src/systems/camera/camera.tscn" id="2_hdi6y"]
[ext_resource type="Texture2D" uid="uid://5bgyxa32p385" path="res://src/levels/_ignore/tilemaps/carpet_floor.png" id="3_i1247"]
[ext_resource type="TileSet" uid="uid://b0kyfgy4bib24" path="res://src/levels/_ignore/tilemaps/_common_objs.tres" id="4_i1247"]
[ext_resource type="PackedScene" uid="uid://ryhx8o46er7i" path="res://src/player/madotsuki/madotsuki.tscn" id="5_f4tmi"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_f4tmi"]
texture = ExtResource("3_i1247")
0:0/size_in_atlas = Vector2i(3, 2)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-18.6667, -8, 0, -13.3333, 18.6667, -8, 18.6667, 5.33333, 0, 10.6667, -18.6667, 5.33333)
0:0/0/custom_data_0 = 8
3:0/size_in_atlas = Vector2i(3, 2)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-18.6667, -8, 0, -13.3333, 18.6667, -8, 18.6667, 5.33333, 0, 10.6667, -18.6667, 5.33333)
3:0/0/custom_data_0 = 8
0:2/size_in_atlas = Vector2i(6, 3)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-26.6667, -16, 0, -21.3333, 29.3333, -16, 40, 0, 29.3333, 16, 0, 21.3333, -29.3333, 16, -37.3333, 0)
0:2/0/custom_data_0 = 8
6:2/size_in_atlas = Vector2i(6, 3)
6:2/0 = 0
6:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-26.6667, -16, 0, -21.3333, 29.3333, -16, 40, 0, 29.3333, 16, 0, 21.3333, -29.3333, 16, -37.3333, 0)
6:2/0/custom_data_0 = 8

[sub_resource type="TileSet" id="TileSet_hdi6y"]
physics_layer_0/collision_layer = 8
physics_layer_0/collision_mask = 9
custom_data_layer_0/name = "material"
custom_data_layer_0/type = 2
sources/0 = SubResource("TileSetAtlasSource_f4tmi")

[node name="carpet_plaza" type="Node"]
script = ExtResource("1_cg8o4")
metadata/_custom_type_script = "uid://b1ofr4umso5jf"

[node name="camera" parent="." instance=ExtResource("2_hdi6y")]

[node name="camera_handler" parent="camera" index="0" node_paths=PackedStringArray("target")]
target = NodePath("../../y_order/Madotsuki")

[node name="BGM" type="Node" parent="."]
script = ExtResource("2_6io33")
metadata/_custom_type_script = "uid://b4b3kjcm65mv6"

[node name="y_order" type="Node2D" parent="."]
y_sort_enabled = true

[node name="carpet" type="TileMapLayer" parent="y_order"]
z_index = -1
y_sort_enabled = true
tile_map_data = PackedByteArray("AAALAAwAAAAAAAIAAAAeABgAAAAGAAIAAAAIACIAAAAAAAAAAAA6ACMAAAAAAAIAAAAZAAsAAAAGAAIAAADv/xsAAAADAAAAAAAJABcAAAAGAAIAAAD4/wcAAAADAAAAAAA3ABEAAAAAAAAAAAAeACsAAAAGAAIAAAAvACAAAAAAAAIAAAD4/ysAAAAAAAAAAAAYACMAAAAAAAAAAADy/w4AAAAAAAAAAAD6/x8AAAAAAAIAAAAsABUAAAAGAAIAAAApAAYAAAAAAAIAAAAHAAAAAAADAAAAAAARAPb/AAAGAAIAAAD7/xAAAAAAAAAAAADl/xMAAAAAAAIAAAAyADUAAAAAAAIAAAAHAC8AAAADAAAAAADk/zIAAAAGAAIAAADb/yIAAAAGAAIAAADu/ygAAAADAAAAAADX/w8AAAAAAAAAAADy//z/AAAAAAAAAADe/wQAAAAAAAIAAAAbAPL/AAAAAAIAAAAZAAAAAAADAAAAAADa//T/AAAGAAIAAAD9/+7/AAAAAAIAAAA=")
tile_set = SubResource("TileSet_hdi6y")

[node name="spikes" type="TileMapLayer" parent="y_order"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AADX/y4AAAAIAAQAAADY/y4AAAAIAAQAAADZ/y4AAAAIAAQAAADa/y4AAAAIAAQAAADa/y8AAAAIAAQAAADa/zAAAAAIAAQAAADb/zAAAAAIAAQAAADb/zEAAAAIAAQAAADb/zIAAAAIAAQAAADc/zIAAAAIAAQAAADc/zMAAAAIAAQAAADc/zQAAAAIAAQAAADd/zQAAAAIAAQAAADd/zUAAAAIAAQAAADe/zUAAAAIAAQAAADe/zYAAAAIAAQAAADf/zYAAAAIAAQAAADg/zYAAAAIAAQAAADh/zYAAAAIAAQAAADi/zYAAAAIAAQAAADi/zcAAAAIAAQAAADj/zcAAAAIAAQAAADk/zcAAAAIAAQAAADl/zcAAAAIAAQAAADm/zcAAAAIAAQAAADm/zgAAAAIAAQAAADn/zgAAAAIAAQAAADo/zgAAAAIAAQAAADp/zgAAAAIAAQAAADq/zgAAAAIAAQAAADr/zgAAAAIAAQAAADs/zgAAAAIAAQAAADt/zgAAAAIAAQAAADu/zgAAAAIAAQAAADu/zkAAAAIAAQAAADv/zgAAAAIAAQAAADw/zcAAAAIAAQAAADx/zcAAAAIAAQAAADX/y0AAAAIAAQAAADW/y0AAAAIAAQAAADW/ywAAAAIAAQAAADV/ysAAAAIAAQAAADV/yoAAAAIAAQAAADU/yoAAAAIAAQAAADU/ykAAAAIAAQAAADT/ykAAAAIAAQAAADT/ygAAAAIAAQAAADS/ygAAAAIAAQAAADR/ygAAAAIAAQAAADS/ycAAAAIAAQAAADR/ycAAAAIAAQAAADR/yYAAAAIAAQAAADR/yUAAAAIAAQAAADR/yQAAAAIAAQAAADQ/yQAAAAIAAQAAADR/yMAAAAIAAQAAADS/yMAAAAIAAQAAADQ/yIAAAAIAAQAAADP/yIAAAAIAAQAAADQ/yEAAAAIAAQAAADQ/yAAAAAIAAQAAADR/yAAAAAIAAQAAADQ/x8AAAAIAAQAAADP/x8AAAAIAAQAAADQ/x4AAAAIAAQAAADQ/x0AAAAIAAQAAADQ/xwAAAAIAAQAAADR/xwAAAAIAAQAAADR/xsAAAAIAAQAAADQ/xsAAAAIAAQAAADQ/xoAAAAIAAQAAADP/xoAAAAIAAQAAADQ/xkAAAAIAAQAAADP/xkAAAAIAAQAAADO/xkAAAAIAAQAAADO/xgAAAAIAAQAAADN/xgAAAAIAAQAAADN/xcAAAAIAAQAAADO/xcAAAAIAAQAAADP/xYAAAAIAAQAAADQ/xUAAAAIAAQAAADQ/xQAAAAIAAQAAADQ/xMAAAAIAAQAAADP/xMAAAAIAAQAAADR/xIAAAAIAAQAAADR/xEAAAAIAAQAAADQ/xAAAAAIAAQAAADQ/w8AAAAIAAQAAADP/w4AAAAIAAQAAADO/w4AAAAIAAQAAADP/w0AAAAIAAQAAADO/w0AAAAIAAQAAADN/w0AAAAIAAQAAADM/wwAAAAIAAQAAADN/wwAAAAIAAQAAADO/wwAAAAIAAQAAADO/wsAAAAIAAQAAADN/wsAAAAIAAQAAADN/woAAAAIAAQAAADO/wkAAAAIAAQAAADP/wkAAAAIAAQAAADQ/wkAAAAIAAQAAADP/wgAAAAIAAQAAADO/wgAAAAIAAQAAADO/wcAAAAIAAQAAADO/wYAAAAIAAQAAADP/wUAAAAIAAQAAADP/wQAAAAIAAQAAADQ/wMAAAAIAAQAAADQ/wIAAAAIAAQAAADQ/wEAAAAIAAQAAADP/wEAAAAIAAQAAADO/wAAAAAIAAQAAADN////AAAIAAQAAADN//7/AAAIAAQAAADN//3/AAAIAAQAAADO//3/AAAIAAQAAADP//z/AAAIAAQAAADQ//v/AAAIAAQAAADR//v/AAAIAAQAAADS//v/AAAIAAQAAADR//r/AAAIAAQAAADQ//r/AAAIAAQAAADQ//n/AAAIAAQAAADP//n/AAAIAAQAAADP//j/AAAIAAQAAADP//f/AAAIAAQAAADQ//f/AAAIAAQAAADQ//b/AAAIAAQAAADP//b/AAAIAAQAAADO//b/AAAIAAQAAADO//X/AAAIAAQAAADN//X/AAAIAAQAAADM//X/AAAIAAQAAADL//X/AAAIAAQAAADN//T/AAAIAAQAAADO//T/AAAIAAQAAADP//T/AAAIAAQAAADQ//P/AAAIAAQAAADQ//L/AAAIAAQAAADR//L/AAAIAAQAAADR//H/AAAIAAQAAADR//D/AAAIAAQAAADS//D/AAAIAAQAAADQ/+//AAAIAAQAAADR/+//AAAIAAQAAADR/+7/AAAIAAQAAADS/+7/AAAIAAQAAADT/+7/AAAIAAQAAADU/+3/AAAIAAQAAADV/+3/AAAIAAQAAAD2/zcAAAAIAAQAAAD3/zYAAAAIAAQAAAD4/zYAAAAIAAQAAAD5/zYAAAAIAAQAAAD6/zYAAAAIAAQAAAD6/zUAAAAIAAQAAAD7/zUAAAAIAAQAAAD7/zYAAAAIAAQAAAD8/zYAAAAIAAQAAAD9/zYAAAAIAAQAAAD+/zYAAAAIAAQAAAD//zYAAAAIAAQAAAAAADYAAAAIAAQAAAAAADcAAAAIAAQAAAABADcAAAAIAAQAAAD1/zYAAAAIAAQAAAD1/zcAAAAIAAQAAAD1/zgAAAAIAAQAAAD0/zcAAAAIAAQAAAD0/zYAAAAIAAQAAAD0/zUAAAAIAAQAAADz/zUAAAAIAAQAAADz/zYAAAAIAAQAAADy/zYAAAAIAAQAAADx/zYAAAAIAAQAAAALADUAAAAIAAQAAAALADYAAAAIAAQAAAALADcAAAAIAAQAAAAMADUAAAAIAAQAAAANADQAAAAIAAQAAAAOADQAAAAIAAQAAAAPADQAAAAIAAQAAAAQADQAAAAIAAQAAAAQADMAAAAIAAQAAAARADMAAAAIAAQAAAASADMAAAAIAAQAAAATADMAAAAIAAQAAAAUADMAAAAIAAQAAAAVADMAAAAIAAQAAAAVADIAAAAIAAQAAAAUADIAAAAIAAQAAAAWADMAAAAIAAQAAAAXADMAAAAIAAQAAAAYADMAAAAIAAQAAAAZADMAAAAIAAQAAAAaADIAAAAIAAQAAAAbADIAAAAIAAQAAAAcADIAAAAIAAQAAAAdADIAAAAIAAQAAAAdADMAAAAIAAQAAAAeADMAAAAIAAQAAAAfADMAAAAIAAQAAAAgADMAAAAIAAQAAAAhADMAAAAIAAQAAAAiADQAAAAIAAQAAAAjADQAAAAIAAQAAAAkADQAAAAIAAQAAAAkADMAAAAIAAQAAAAlADIAAAAIAAQAAAAmADIAAAAIAAQAAAAmADMAAAAIAAQAAAAmADQAAAAIAAQAAAAnADQAAAAIAAQAAAAoADQAAAAIAAQAAAAoADUAAAAIAAQAAAApADYAAAAIAAQAAAAqADYAAAAIAAQAAAAqADcAAAAIAAQAAAAqADgAAAAIAAQAAAAqADkAAAAIAAQAAAArADkAAAAIAAQAAAAsADkAAAAIAAQAAAAtADkAAAAIAAQAAAAuADkAAAAIAAQAAAAvADkAAAAIAAQAAAAwADkAAAAIAAQAAAAxADoAAAAIAAQAAAAyADoAAAAIAAQAAAAzADoAAAAIAAQAAAA0ADoAAAAIAAQAAAA1ADoAAAAIAAQAAAA2ADoAAAAIAAQAAAA3ADkAAAAIAAQAAAA3ADgAAAAIAAQAAAA4ADgAAAAIAAQAAAA4ADcAAAAIAAQAAAA4ADYAAAAIAAQAAAA4ADUAAAAIAAQAAAA5ADUAAAAIAAQAAAA5ADQAAAAIAAQAAAA5ADMAAAAIAAQAAAA6ADMAAAAIAAQAAAA7ADMAAAAIAAQAAAA8ADIAAAAIAAQAAAA9ADEAAAAIAAQAAAA+ADAAAAAIAAQAAAA/ADAAAAAIAAQAAABAAC8AAAAIAAQAAABAAC4AAAAIAAQAAABBAC0AAAAIAAQAAABBACwAAAAIAAQAAABCACsAAAAIAAQAAABCACoAAAAIAAQAAABCACkAAAAIAAQAAABCACgAAAAIAAQAAABCACcAAAAIAAQAAABBACYAAAAIAAQAAABBACUAAAAIAAQAAABBACQAAAAIAAQAAABAACQAAAAIAAQAAABAACUAAAAIAAQAAABCACMAAAAIAAQAAABCACIAAAAIAAQAAABCACEAAAAIAAQAAABCACAAAAAIAAQAAABCAB8AAAAIAAQAAABCAB4AAAAIAAQAAABCAB0AAAAIAAQAAABBABwAAAAIAAQAAABAABwAAAAIAAQAAABAABsAAAAIAAQAAABAABoAAAAIAAQAAAA/ABoAAAAIAAQAAAA+ABoAAAAIAAQAAAA/ABkAAAAIAAQAAABAABkAAAAIAAQAAABAABgAAAAIAAQAAABAABcAAAAIAAQAAABAABYAAAAIAAQAAABBABYAAAAIAAQAAABBABUAAAAIAAQAAABBABQAAAAIAAQAAABBABMAAAAIAAQAAABAABIAAAAIAAQAAABAABEAAAAIAAQAAAA/ABAAAAAIAAQAAAA/AA8AAAAIAAQAAABAAA8AAAAIAAQAAABAAA4AAAAIAAQAAAA/AA4AAAAIAAQAAAA+AA4AAAAIAAQAAAA+AA0AAAAIAAQAAAA+AAwAAAAIAAQAAAA+AAsAAAAIAAQAAAA+AAoAAAAIAAQAAAA+AAkAAAAIAAQAAAA+AAgAAAAIAAQAAAA9AAcAAAAIAAQAAAA8AAcAAAAIAAQA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AAD9/+7/AAAIAAQAAAD9/+z/AAAIAAQAAAA3ABAAAAAIAAQAAADu/ycAAAAIAAQAAAAJADYAAAAGAAMAAAAIADoAAAAIAAQAAAAJADoAAAAIAAQAAAAHAOX/AAAGAAMAAAAKAOX/AAAGAAMAAAAMAOP/AAAIAAQAAAAMAOT/AAAIAAQAAAAMAOb/AAAIAAQAAAALAOH/AAAIAAQAAAAKAOH/AAAIAAQAAAAJAOH/AAAIAAQAAAAJAOD/AAAIAAQAAAAIAOD/AAAIAAQAAAAHAOD/AAAIAAQAAAAHAOH/AAAIAAQAAAAGAOH/AAAIAAQAAAAGAOL/AAAIAAQAAAAFAOL/AAAIAAQAAAAFAOP/AAAIAAQAAAAFAOT/AAAIAAQAAAAMAOL/AAAIAAQAAAAMAOH/AAAIAAQAAAAGADYAAAAGAAMAAAAGADoAAAAIAAQAAAACADcAAAAIAAQAAAADADYAAAAIAAQAAAADADcAAAAIAAQAAAAEADQAAAAIAAQAAAAEADUAAAAIAAQAAAAEADYAAAAIAAQAAAAEADcAAAAIAAQAAAACADYAAAAIAAQAAAACADgAAAAIAAQAAAADADQAAAAIAAQAAAADADUAAAAIAAQAAAAEADgAAAAIAAQAAAAEADkAAAAIAAQAAAAEADoAAAAIAAQAAAAFADoAAAAIAAQAAAAFADkAAAAIAAQAAAAHADoAAAAIAAQAAAALADgAAAAIAAQAAAALADkAAAAIAAQAAAAKADoAAAAIAAQAAAAKADkAAAAIAAQAAAAMADgAAAAIAAQAAAAMADcAAAAIAAQAAAAMADYAAAAIAAQAAAA=")
tile_set = ExtResource("4_i1247")

[node name="Madotsuki" parent="y_order" instance=ExtResource("5_f4tmi")]
position = Vector2(80, 640)

[editable path="camera"]
